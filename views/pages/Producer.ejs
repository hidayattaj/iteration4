<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Producer</title>
    <link rel="stylesheet" type="text/css" href="/styles.css">
    <link rel="stylesheet" type="text/css" href="/menu.css">
    <link rel="stylesheet" type="text/css" href="/Producer.css">
</head>
<body>

  <!-- Menu bar at the top will be displayed here using ejs. -->
	<header>
		<%- include('../partials/header'); %>
	</header>




  <div class="container">
    <p>Select DJ:</p>
    <select class="djSelector">
      <option class="dj1">Olivia Bennett</option>
      <option class="dj2">Liam Anderson</option>
      <option class="dj3">Sophia Ramirez</option>
      <option class="dj4">Ethan Mitchell</option>
      <option class="dj5">Ava Turner</option>
    </select>

    <button class="select-btn">Select</button>

    <hr>

    <p>Search Songs:</p>
    <!-- I used keydown event to listen for Enter key. -->
    <input type="text" class="songSearch" placeholder="Enter song name" onkeydown="song_entered(event)">
    <button class="search-btn" onclick="song_searched()">Search</button>
        
    <hr>

    <p>Select Time Slot:</p>
    <div class="time-slot-container">
      <button class="btn1">9:00 AM</button>
      <button class="btn2">10:00 AM</button>
      <button class="btn3">11:00 AM</button>
      <button class="btn4">12:00 PM</button>
      <button class="btn5">01:00 PM</button>
      <button class="btn6">02:00 PM</button>
      <button class="btn7">03:00 PM</button>
      <button class="btn8">04:00 PM</button>
      <button class="btn9">05:00 PM</button>
      <button class="btn10">06:00 PM</button>
      <button class="btn11">07:00 PM</button>
      <button class="btn12">08:00 PM</button>
      <button class="btn13">09:00 PM</button>
    </div>

    <hr>

    <!-- Displays the currently selected dj using ejs. -->
    <p><%= note1 %> </p>
    <p><%= note2 %> </p>

    <ul>
      <% songs.forEach(function(song) { %>
        <li>
          <strong><%= song.title %></strong>
          by <%= song.artist %>
          released in: <%= song.year %>
        </li>
      <% }); %>
    </ul>


  </div>


  <script>

    let dj = 0;

      // It will display the current song searched inside the html.
      function song_searched() {
        // Gets the value inside the search field.
        song = document.querySelector(".songSearch").value;

        // Display error if the search field is empty.
        if (song === "") { alert("Search field cannot be empty."); }

        // Display error if search field contains a number.
        if (/[0-9]/.test(song)) { alert("Song cannot be a number."); }

        document.querySelector(".show-song").innerText = `Song searched: ${song}`;
      }

      // Adds event listener to the following buttons and calls the functions below.
      document.querySelector(".dj1").addEventListener("click",dj1);
      document.querySelector(".dj2").addEventListener("click",dj2);
      document.querySelector(".dj3").addEventListener("click",dj3);
      document.querySelector(".dj4").addEventListener("click",dj4);
      document.querySelector(".dj5").addEventListener("click",dj5);

      function dj1() { dj = document.querySelector(".dj1").innerText; }
      function dj2() { dj = document.querySelector(".dj2").innerText; }
      function dj3() { dj = document.querySelector(".dj3").innerText; }
      function dj4() { dj = document.querySelector(".dj4").innerText; }
      function dj5() { dj = document.querySelector(".dj5").innerText; }

      // It will display the current DJ selection.
      document.querySelector(".select-btn").addEventListener("click",dj_selected);

      function dj_selected() {
        // Changes the background color of the button.
        document.querySelector(".select-btn").style["background-color"] = "red";

        // Changes the text inside the html element.
        document.querySelector(".select-btn").innerText = "SELECTED";
      }

  </script>



  <!-- The menu at the bottom will be displayed here using ejs. -->
	<footer>
		<%- include('../partials/footer'); %>
	</footer>

</body>
</html>